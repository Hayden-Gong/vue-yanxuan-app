(function(t){function e(e){for(var n,r,c=e[0],u=e[1],s=e[2],d=0,l=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);p&&p(e);while(l.length)l.shift()();return i.push.apply(i,s||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=u(u.s=a[0]))}return t}var n={},r={app:0},o={app:0},i=[];function c(t){return u.p+"js/"+({SearchPopup:"SearchPopup",cart:"cart",category:"category",goodsdetail:"goodsdetail",mine:"mine",topic:"topic"}[t]||t)+"."+{SearchPopup:"94a24919",cart:"ecb59fb5",category:"725b0463",goodsdetail:"3af05a8b",mine:"f127359f",topic:"671762e5"}[t]+".js"}function u(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.e=function(t){var e=[],a={SearchPopup:1,cart:1,category:1,goodsdetail:1,mine:1,topic:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({SearchPopup:"SearchPopup",cart:"cart",category:"category",goodsdetail:"goodsdetail",mine:"mine",topic:"topic"}[t]||t)+"."+{SearchPopup:"ec83c8ed",cart:"5913e6cf",category:"bc84f03a",goodsdetail:"092d7881",mine:"9759cd4a",topic:"fd57830d"}[t]+".css",o=u.p+n,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===n||d===o))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){s=l[c],d=s.getAttribute("data-href");if(d===n||d===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[t],p.parentNode.removeChild(p),a(i)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,a){n=o[t]=[e,a]}));e.push(n[2]=i);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=c(t);var l=new Error;s=function(e){d.onerror=d.onload=null,clearTimeout(p);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",l.name="ChunkLoadError",l.type=n,l.request=r,a[1](l)}o[t]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(e)},u.m=t,u.c=n,u.d=function(t,e,a){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(a,n,function(e){return t[e]}.bind(null,n));return a},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var p=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2395:function(t,e,a){},"338b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4de4"),a("b680"),a("a9e3");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),t.$route.meta.isShowTabbar?a("AppTabbar"):t._e()],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tabbar-item",{attrs:{icon:"home-o"},on:{click:function(e){return t.$router.push("/home")}}},[t._v("首页")]),a("van-tabbar-item",{attrs:{icon:"label-o"},on:{click:function(e){return t.$router.push("/topic")}}},[t._v("专题")]),a("van-tabbar-item",{attrs:{icon:"friends-o"},on:{click:function(e){return t.$router.push("/category")}}},[t._v("分类")]),a("van-tabbar-item",{attrs:{icon:"cart-o",badge:t.cartBadge},on:{click:function(e){return t.$router.push("/cart")}}},[t._v("购物车")]),a("van-tabbar-item",{attrs:{icon:"setting-o"},on:{click:function(e){return t.$router.push("/mine")}}},[t._v("我的")])],1)],1)},c=[],u={data:function(){return{cartBadge:""}},computed:{active:{get:function(){return this.$route.meta.tabbarActiveNum},set:function(){}}},methods:{changeBadge:function(t){this.cartBadge=t}}},s=u,d=a("2877"),l=Object(d["a"])(s,i,c,!1,null,"459daf28",null),p=l.exports,f={components:{AppTabbar:p}},h=f,m=(a("7c55"),Object(d["a"])(h,r,o,!1,null,null,null)),b=m.exports,v=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("transition",{attrs:{name:"van-fade"}},["/home"===t.$route.path?a("div",[a("van-search",{attrs:{shape:"round",placeholder:"搜索商品",disabled:""},on:{click:t.enterSearch}}),a("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"#1989fa"}},t._l(t.bannerData,(function(t,e){return a("van-swipe-item",{key:e},[a("img",{staticStyle:{width:"100%"},attrs:{src:t.image_url,alt:""}})])})),1),a("van-grid",{attrs:{"column-num":5}},t._l(t.channelData,(function(t,e){return a("van-grid-item",{key:e,attrs:{icon:t.icon_url,text:t.name}})})),1),a("div",{staticClass:"brand"},[a("div",{staticClass:"home_title"},[t._v("品牌制造商直供")]),a("ul",t._l(t.brandListData,(function(e){return a("li",{key:e.id},[a("img",{attrs:{src:e.pic_url,alt:""}}),a("h4",[t._v(t._s(e.name))]),a("p",[t._v(t._s(t._f("RMBformat")(e.floor_price)))])])})),0)]),a("div",{staticClass:"new"},[a("div",{staticClass:"home_title"},[t._v("周一周四·新品首发")]),a("ul",{staticClass:"product_list"},t._l(t.newGoodsList,(function(e){return a("li",{key:e.id},[a("img",{attrs:{src:e.list_pic_url,alt:""}}),a("div",[t._v(t._s(e.name))]),a("section",[t._v(t._s(t._f("RMBformat")(e.retail_price)))])])})),0)]),a("div",{staticClass:"hot"},[a("div",{staticClass:"home_title"},[t._v("人气推荐")]),t._l(t.hotGoodsList,(function(t){return a("van-card",{key:t.id,attrs:{price:t.retail_price.toFixed(2),desc:t.goods_brief,title:t.name,thumb:t.list_pic_url}})}))],2),a("div",{staticClass:"topic"},[a("div",{staticClass:"home_title"},[t._v("专题精选")]),a("van-swipe",{attrs:{loop:!1,width:300,"show-indicators":!1}},t._l(t.topicList,(function(e){return a("van-swipe-item",{key:e.id},[a("img",{staticStyle:{width:"100%",height:"2rem"},attrs:{src:e.item_pic_url,alt:""}}),a("p",{staticClass:"title"},[t._v(t._s(e.title))]),a("p",{staticClass:"subtitle"},[t._v(t._s(e.subtitle))])])})),1)],1),t._l(t.categoryList,(function(e){return a("div",{key:e.id,staticClass:"category"},[a("div",{staticClass:"home_title"},[t._v(t._s(e.name))]),a("ul",{staticClass:"product_list"},t._l(e.goodsList,(function(e){return a("li",{key:e.id},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.list_pic_url,expression:"goods.list_pic_url"}],attrs:{alt:""}}),a("div",[t._v(t._s(e.name))]),a("section",[t._v(t._s(t._f("RMBformat")(e.retail_price)))])])})),0)])}))],2):t._e()]),a("transition",{attrs:{name:"van-fade"}},[t.isShowShadow?a("div",{staticClass:"popup-shadow"}):t._e()]),a("transition",{attrs:{name:"van-slide-right"}},[a("router-view")],1)],1)},_=[],w=a("5530"),y=a("1da1"),S=(a("96cf"),a("2f62")),L=a("f96b"),k={name:"Home",data:function(){return{bannerData:[],channelData:[],brandListData:[],newGoodsList:[],hotGoodsList:[],topicList:[],categoryList:[]}},created:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){var a,n,r,o,i,c,u,s,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(L["j"])();case 2:a=e.sent,n=a.data,r=n.banner,o=n.channel,i=n.brandList,c=n.newGoodsList,u=n.hotGoodsList,s=n.topicList,d=n.categoryList,t.bannerData=r,t.channelData=o,t.brandListData=i,t.newGoodsList=c,t.hotGoodsList=u,t.topicList=s,t.categoryList=d;case 11:case"end":return e.stop()}}),e)})))()},computed:Object(w["a"])({},Object(S["c"])({isShowShadow:function(t){return t.showshadow.isShowShadow}})),methods:Object(w["a"])(Object(w["a"])({},Object(S["b"])({updateIsShowShadow:"showshadow/updateIsShowShadow"})),{},{enterSearch:function(){this.$router.push("/home/searchpopup"),this.updateIsShowShadow(!0)}}),components:{},watch:{$route:function(t,e){"/home"===t.path&&this.updateIsShowShadow(!1)}},beforeRouteLeave:function(t,e,a){this.updateIsShowShadow(!1),a()}},C=k,j=(a("759a"),Object(d["a"])(C,g,_,!1,null,"37aad51b",null)),x=j.exports,O=v["a"].prototype.push;v["a"].prototype.push=function(t){return O.call(this,t).catch((function(t){return t}))},n["a"].use(v["a"]);var P=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:x,children:[{path:"searchpopup",component:function(){return a.e("SearchPopup").then(a.bind(null,"ab0e"))}}],meta:{tabbarActiveNum:0,isShowTabbar:!0}},{path:"/topic",component:function(){return a.e("topic").then(a.bind(null,"3213"))},meta:{tabbarActiveNum:1,isShowTabbar:!0}},{path:"/category",component:function(){return a.e("category").then(a.bind(null,"4886"))},meta:{tabbarActiveNum:2,isShowTabbar:!0}},{path:"/cart",component:function(){return a.e("cart").then(a.bind(null,"b789"))},meta:{tabbarActiveNum:3,isShowTabbar:!0}},{path:"/mine",name:"Mine",component:function(){return a.e("mine").then(a.bind(null,"0a4e"))},meta:{tabbarActiveNum:4,isShowTabbar:!0}},{path:"/detail",component:function(){return a.e("goodsdetail").then(a.bind(null,"c84b"))},meta:{tabbarActiveNum:4,isShowTabbar:!1}}],T=new v["a"]({base:"",routes:P}),A=T,N={namespaced:!0,state:{isShowShadow:!1},mutations:{updateIsShowShadow:function(t,e){t.isShowShadow=e}},actions:{},modules:{}},$={namespaced:!0,state:{isForceLogin:!1},mutations:{updateIsForceLogin:function(t,e){t.isForceLogin=e}},actions:{},modules:{}};n["a"].use(S["a"]);var B=new S["a"].Store({state:{},mutations:{},actions:{},modules:{showshadow:N,isForceLogin:$}}),E=(a("fa6d"),a("66cf"),a("343b")),D=(a("afd4"),a("ca19")),I=(a("5246"),a("6b41")),F=(a("4467"),a("c36e")),M=(a("f06a"),a("20fb")),G=(a("be39"),a("efa0")),R=(a("9cb7"),a("66fd")),q=(a("a909"),a("3acc")),z=(a("3c32"),a("417e")),H=(a("e415"),a("2b5e")),J=(a("ef6f"),a("82a8")),U=(a("591c"),a("7713")),K=(a("93ac"),a("bb33")),W=(a("2b28"),a("9ed2")),X=(a("4d48"),a("d1e1")),Q=(a("81e6"),a("9ffb")),V=(a("e17f"),a("2241")),Y=(a("66b9"),a("b650")),Z=(a("be7f"),a("565f")),tt=(a("38d5"),a("772a")),et=(a("8a58"),a("e41f")),at=(a("e7e5"),a("d399")),nt=(a("91d5"),a("f0ca")),rt=(a("61ae"),a("d314")),ot=(a("09d3"),a("2d6d")),it=(a("0653"),a("34e9")),ct=(a("c194"),a("7744")),ut=(a("2994"),a("2bdd")),st=(a("5f1a"),a("a3e2")),dt=(a("c3a6"),a("ad06")),lt=(a("4056"),a("44bf")),pt=(a("a52c"),a("2ed4")),ft=(a("537a"),a("ac28")),ht=(a("0ec5"),a("21ab")),mt=(a("3df5"),a("2830")),bt=(a("4b0a"),a("2bb1")),vt=(a("7844"),a("5596")),gt=(a("5852"),a("d961"));n["a"].use(gt["a"]),n["a"].use(vt["a"]),n["a"].use(bt["a"]),n["a"].use(mt["a"]),n["a"].use(ht["a"]),n["a"].use(ft["a"]),n["a"].use(pt["a"]),n["a"].use(lt["a"]),n["a"].use(dt["a"]),n["a"].use(st["a"]),n["a"].use(ut["a"]),n["a"].use(ct["a"]),n["a"].use(it["a"]),n["a"].use(ot["a"]),n["a"].use(rt["a"]),n["a"].use(nt["a"]),n["a"].use(at["a"]),n["a"].use(et["a"]),n["a"].use(tt["a"]),n["a"].use(Z["a"]),n["a"].use(Y["a"]),n["a"].use(V["a"]),n["a"].use(Q["a"]),n["a"].use(X["a"]),n["a"].use(W["a"]),n["a"].use(K["a"]),n["a"].use(U["a"]),n["a"].use(J["a"]),n["a"].use(H["a"]),n["a"].use(z["a"]),n["a"].use(q["a"]),n["a"].use(R["a"]),n["a"].use(G["a"]),n["a"].use(M["a"]),n["a"].use(F["a"]),n["a"].use(I["a"]),n["a"].use(D["a"]),n["a"].use(E["a"],{lazyComponent:!0,loading:a("cf1c")});var _t={CheckLoginState:function(){var t=localStorage.getItem("token");return!!t||(B["_mutations"]["isForceLogin/updateIsForceLogin"][0](!0),n["a"].prototype.$toast("请先登录！"),setTimeout((function(){A.push("/mine")}),1e3),!1)}};n["a"].config.productionTip=!1,n["a"].prototype.utils=_t,new n["a"]({router:A,store:B,render:function(t){return t(b)}}).$mount("#app"),n["a"].filter("RMBformat",(function(t){return"￥ "+Number(t).toFixed(2)+" 元"}))},"759a":function(t,e,a){"use strict";a("338b")},"7c55":function(t,e,a){"use strict";a("2395")},cf1c:function(t,e,a){t.exports=a.p+"img/loading.f876b22b.gif"},f96b:function(t,e,a){"use strict";a.d(e,"j",(function(){return c})),a.d(e,"i",(function(){return u})),a.d(e,"n",(function(){return s})),a.d(e,"c",(function(){return d})),a.d(e,"m",(function(){return l})),a.d(e,"p",(function(){return p})),a.d(e,"k",(function(){return f})),a.d(e,"l",(function(){return h})),a.d(e,"e",(function(){return m})),a.d(e,"a",(function(){return b})),a.d(e,"f",(function(){return v})),a.d(e,"b",(function(){return g})),a.d(e,"d",(function(){return _})),a.d(e,"q",(function(){return w})),a.d(e,"o",(function(){return y})),a.d(e,"g",(function(){return S})),a.d(e,"h",(function(){return L}));a("d3b7");var n=a("bc3a"),r=a.n(n),o=r.a.create({baseURL:"http://kumanxuan1.f3322.net:8001",timeout:5e3});o.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers["X-Nideshop-Token"]=e),t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){var e=t.data;return 0!==e.errno&&console.log("响应拦截器中：",e.errmsg||"网络错误"),e}),(function(t){return Promise.reject(t)}));var i=o,c=function(){return i.get("/index/index")},u=function(){return i.get("/search/index")},s=function(t){return i.get("/search/helper",{params:t})},d=function(){return i.post("/search/clearhistory")},l=function(t){return i.get("/goods/list",{params:t})},p=function(t){return i.post("/auth/loginByWeb",t)},f=function(t){return i.get("/goods/detail",{params:t})},h=function(t){return i.get("/goods/related",{params:t})},m=function(){return i.get("/cart/goodscount")},b=function(t){return i.post("/cart/add",t)},v=function(t){return i.get("/cart/index",{params:t})},g=function(t){return i.post("/cart/checked",t)},_=function(t){return i.post("/cart/delete",t)},w=function(t){return i.post("/cart/update",t)},y=function(t){return i.get("/topic/list",t)},S=function(){return i.get("/catalog/index")},L=function(t){return i.get("/catalog/current",{params:{id:t}})}}});
//# sourceMappingURL=app.d1f3f93b.js.map